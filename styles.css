@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap');
:root {
  --primary-blue: #00ccff;
  --primary-red: #cc0000;
  --primary-yellow: #ffcc00;
  --dark-bg: #111;
  --sidebar-bg: #0a0a0a;
  --card-bg: #1f1f1f;
  --muted: #bfbfbf;
  --border-color: #2f2f2f;
}
* { box-sizing: border-box; }
body {
  margin: 0; padding: 0; height: 100vh;
  font-family: 'Montserrat', sans-serif;
  background: var(--dark-bg); color: #fff;
  display: flex; flex-direction: column;
}
.container {
  margin: 12px; border-radius: 12px;
  display: flex; flex: 1; overflow: hidden;
  background: #161616; border: 2px solid var(--primary-red);
}
.sidebar {
  width: 300px; padding: 18px; background: var(--sidebar-bg);
  border-right: 2px solid var(--primary-red);
  display: flex; flex-direction: column; gap: 12px; overflow-y: auto;
  flex-shrink: 0;
}
.right-sidebar {
  width: 280px; padding: 18px; background: var(--sidebar-bg);
  border-left: 2px solid var(--primary-red);
  display: flex; flex-direction: column; gap: 12px; overflow-y: auto;
  flex-shrink: 0;
}

.logo-container img { max-width: 100%; height: auto; display:block; margin: 0 auto; }
h2 { margin: 6px 0 12px; color:var(--primary-blue); text-align:center; text-transform:uppercase; font-weight:900; font-size:1.05rem; }
h3 { margin: 4px 0 8px; color:#fff; font-size:0.9rem; font-weight:700; border-bottom:1px solid #333; padding-bottom:4px; }

.file-card {
  background: var(--card-bg);
  border-radius: 10px;
  padding: 12px;
  border: 1px solid var(--border-color);  
  position: relative;
  display: flex; flex-direction: column; gap:8px;
}
.file-card img.thumb { max-width: 120px; max-height: 110px; display:block; margin: 0 auto; border-radius:6px; object-fit:contain; }
.card-controls { display: grid; grid-template-columns: 1fr 1fr 1fr; gap:8px; }
.card-controls label { display:flex; flex-direction:column; color:var(--muted); font-weight:700; font-size:0.85rem; }
.card-controls input[type="number"] { margin-top:6px; padding:6px; border-radius:6px; background:#121212; color:#fff; border:1px solid #333; font-weight:800; text-align:center; }
.lock-row { display:flex; align-items:center; gap:8px; color:var(--muted); font-weight:700; margin-top:6px; }

.btn-action { width:100%; padding:8px; border-radius:8px; border:none; cursor:pointer; font-weight:900; text-transform:uppercase; transition: all 0.3s ease; }
.btn-action:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.3); }
.btn-action:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

.btn-remove-bg {
  background: var(--primary-red);
  color: #fff;
  border: none;
  padding: 10px;
  border-radius: 8px;
  font-weight: 900;
  text-transform: uppercase;
  cursor: pointer;
  transition: all 0.3s ease;
  user-select: none;
  width: 100%;
}
.btn-remove-bg:hover {
  background-color: #a80000;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}
.btn-remove-bg:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

.main-content { flex:1; padding:18px; display:flex; flex-direction:column; gap:12px; overflow: hidden; }
.metrics-bar {
  background:#222; padding:12px; border-radius:8px;
  display:flex; gap:12px; align-items:center; flex-wrap:wrap;
  border-left:5px solid var(--primary-blue); font-weight:800;
}
.price-tag { background:var(--primary-yellow); color:#000; font-weight:900; padding:8px 14px; border-radius:8px; margin-left:auto; }

.canvas-wrapper {
  flex:1; display:flex; align-items:flex-start; justify-content:center;
  padding:20px; background:#1f1f1f; border-radius:8px; border:1px dashed var(--border-color); overflow:auto; position:relative;       
}
canvas { background: rgba(128,128,128,0.3); box-shadow: 0 8px 24px rgba(0,0,0,0.6); }

.controls-footer { background:#222; padding:12px; border-radius:8px; display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.btn { padding:8px 12px; border-radius:8px; font-weight:800; cursor:pointer; border:none; transition: all 0.2s ease; }
.btn:hover { transform: translateY(-1px); box-shadow: 0 2px 4px rgba(0,0,0,0.3); }
.btn-blue { background:var(--primary-blue); color:#000; }
.btn-blue:hover { background:#00b8e6; }
.btn-red { background:var(--primary-red); color:#fff; }
.btn-red:hover { background:#a80000; }
.btn-yellow { background:var(--primary-yellow); color:#000; }
.btn-yellow:hover { background:#e6b800; }
.btn-green { background:#2ecc71; color:#000; }
.btn-green:hover { background:#27ae60; }
input[type="number"] { padding:6px; border-radius:6px; background:#111; color:#fff; border:1px solid #333; width:80px; text-align:center; }

#remove-bg-btn { position:absolute; top:18px; right:18px; display:none; background:var(--primary-red); color:#fff; padding:10px 14px; border-radius:8px; border:none; cursor:pointer; font-weight:900; z-index:999; transition: all 0.3s ease; }
#remove-bg-btn:hover { background:#a80000; transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.3); }

@media (max-width:900px) { .sidebar, .right-sidebar { display:none; } }

/* --- SHEETS BAR --- */
.sheets-bar {
  display: flex; gap: 5px; overflow-x: auto; padding: 5px 0;
  border-bottom: 1px solid #333; margin-bottom: 10px;
}
.sheet-btn {
  padding: 6px 12px;
  background: #222;
  color: #888;
  border: 1px solid #333;
  border-radius: 6px 6px 0 0;
  cursor: pointer;
  font-weight: 700;
  font-size: 0.9rem;
  transition: all 0.2s;
}
.sheet-btn.active {
  background: var(--primary-blue);
  color: #000;
  border-color: var(--primary-blue);
}
.sheet-add-btn {
  padding: 6px 12px; background: #222; color: #fff; border: 1px solid #333;
  border-radius: 6px; cursor: pointer; font-weight: 900;
}

/* --- MODALS & UI HARDENING --- */
.modal-overlay {
  position: fixed; top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.85);
  display: flex; align-items: center; justify-content: center;
  z-index: 2000;
  backdrop-filter: blur(5px);
}
.modal-content {
  background: #1a1a1a;
  padding: 24px;
  border-radius: 12px;
  width: 500px;
  max-height: 85vh;
  overflow-y: auto;
  border: 1px solid #333;
  box-shadow: 0 10px 40px rgba(0,0,0,0.5);
  color: #fff;
}
.modal-content h2 { color: var(--primary-blue); margin-top:0; border-bottom: 1px solid #333; padding-bottom: 10px; }
.modal-content ul { list-style:none; padding:0; margin: 10px 0; }
.modal-content li {
  background: #222;
  margin-bottom: 8px;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid #333;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.modal-content li:hover { background: #2a2a2a; border-color: var(--primary-blue); }
.modal-content small { color: #888; }

/* --- LAYERS PANEL --- */
.layers-list {
  display: flex; flex-direction: column; gap: 4px;
  flex: 1; /* Occupy remaining space */
  overflow-y: auto;
  min-height: 100px; /* Ensure visibility */
}
.layer-item {
  background: #1f1f1f;
  padding: 8px;
  border-radius: 6px;
  border: 1px solid #333;
  display: flex; align-items: center; gap: 8px;
  cursor: pointer;
  user-select: none;
  transition: all 0.2s;
}
.layer-item.active {
  background: #2a2a2a;
  border-color: var(--primary-blue);
}
.layer-item:hover { background: #252525; }
.layer-thumb {
  width: 30px; height: 30px; background: #000; object-fit: contain; border-radius: 4px;
}
.layer-name { flex: 1; font-size: 0.85rem; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.layer-actions { display: flex; gap: 4px; }
.layer-btn {
  background: transparent; border: none; color: #666; cursor: pointer; padding: 2px;
  font-size: 1rem;
}
.layer-btn:hover { color: #fff; }
.layer-btn.active { color: var(--primary-blue); }

/* --- PRODUCTION MODE TOGGLE --- */
.prod-switch {
  display: flex; align-items: center; gap: 10px;
  background: #222; padding: 10px; border-radius: 8px;
  border: 1px solid #333; margin-bottom: 10px;
}
.switch-label { font-weight: 700; font-size: 0.9rem; color: #fff; flex:1; }
.toggle-switch {
  position: relative; display: inline-block; width: 40px; height: 22px;
}
.toggle-switch input { opacity: 0; width: 0; height: 0; }
.slider {
  position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
  background-color: #ccc; transition: .4s; border-radius: 34px;
}
.slider:before {
  position: absolute; content: ""; height: 16px; width: 16px;
  left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%;
}
input:checked + .slider { background-color: var(--primary-green, #2ecc71); }
input:checked + .slider:before { transform: translateX(18px); }

.prod-mode-active .canvas-wrapper {
  border: 2px solid #2ecc71;
}
.prod-badge {
  background: #2ecc71; color: #000; padding: 4px 8px; border-radius: 4px; font-size: 0.7rem; font-weight: 900;
  display: none;
}
.prod-mode-active .prod-badge { display: inline-block; }
